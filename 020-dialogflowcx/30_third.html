<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.96.0" />
    <meta name="description" content="Genesys Workshops">
<meta name="author" content="Genesys">

    <link rel="icon" href="https://developer.genesys.com/wp-content/uploads/2020/07/Genesys_Favicon.ico" type="image/x-icon" />
    <title>Building a DialogFlow CX Agent :: Documentation for Hugo Learn Theme</title>

    
    <link href="../css/nucleus.css?1654548968" rel="stylesheet">
    <link href="../css/fontawesome-all.min.css?1654548968" rel="stylesheet">
    <link href="../css/hybrid.css?1654548968" rel="stylesheet">
    <link href="../css/featherlight.min.css?1654548968" rel="stylesheet">
    <link href="../css/perfect-scrollbar.min.css?1654548968" rel="stylesheet">
    <link href="../css/auto-complete.css?1654548968" rel="stylesheet">
    <link href="../css/atom-one-dark-reasonable.css?1654548968" rel="stylesheet">
    <link href="../css/theme.css?1654548968" rel="stylesheet">
    <link href="../css/tabs.css?1654548968" rel="stylesheet">
    <link href="../css/hugo-theme.css?1654548968" rel="stylesheet">
    
    <link href="../css/theme-mine.css?1654548968" rel="stylesheet">
    
    

    <script src="../js/jquery-3.3.1.min.js?1654548968"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="../020-dialogflowcx/30_third.html">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a href="../" title="Go home"><img style="vertical-align:middle" src="https://media-exp1.licdn.com/dms/image/C4D0BAQGnGnRKFqJpQw/company-logo_200_200/0/1646148118587?e=2147483647&v=beta&t=ioGLBl6pI3lTA0kSXR3DRNXLrxQ0uUNvQ1Sh7aHBShw" height="70px">
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../js/lunr.min.js?1654548968"></script>
<script type="text/javascript" src="../js/auto-complete.js?1654548968"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="../js/search.js?1654548968"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/010-genesysandgooglepartnership.html" title="The Genesys and Google Partnership" class="dd-item
        
        
        
        ">
      <a href="../010-genesysandgooglepartnership.html">
          The Genesys and Google Partnership
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/010-genesysandgooglepartnership/10_first.html" title="Intro to Google CCAI" class="dd-item ">
        <a href="../010-genesysandgooglepartnership/10_first.html">
        Intro to Google CCAI
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/020-dialogflowcx.html" title="DialogFlow CX" class="dd-item
        parent
        
        
        ">
      <a href="../020-dialogflowcx.html">
          DialogFlow CX
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/020-dialogflowcx/20_second.html" title="Integration Setup" class="dd-item ">
        <a href="../020-dialogflowcx/20_second.html">
        Integration Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/020-dialogflowcx/30_third.html" title="Building a DialogFlow CX Agent" class="dd-item active">
        <a href="../020-dialogflowcx/30_third.html">
        Building a DialogFlow CX Agent
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/020-dialogflowcx/40_fourth.html" title="Invoking the DialogFlow CX Agent in an Architect Flow" class="dd-item ">
        <a href="../020-dialogflowcx/40_fourth.html">
        Invoking the DialogFlow CX Agent in an Architect Flow
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/030-agentassist.html" title="Agent Assist" class="dd-item
        
        
        
        ">
      <a href="../030-agentassist.html">
          Agent Assist
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/030-agentassist/20_second.html" title="Integration Setup" class="dd-item ">
        <a href="../030-agentassist/20_second.html">
        Integration Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/030-agentassist/30_third.html" title="Adding Your Knowledge Articles to Google Cloud Storage" class="dd-item ">
        <a href="../030-agentassist/30_third.html">
        Adding Your Knowledge Articles to Google Cloud Storage
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/030-agentassist/40_fourth.html" title="Creating a Knowledge Base" class="dd-item ">
        <a href="../030-agentassist/40_fourth.html">
        Creating a Knowledge Base
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/030-agentassist/50_fifth.html" title="Creating the Conversation Profile" class="dd-item ">
        <a href="../030-agentassist/50_fifth.html">
        Creating the Conversation Profile
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/030-agentassist/60_sixth.html" title="Create the Assistant for Your Queue" class="dd-item ">
        <a href="../030-agentassist/60_sixth.html">
        Create the Assistant for Your Queue
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/090-conclution.html" title="Conclusion" class="dd-item
        
        
        
        ">
      <a href="../090-conclution.html">
          Conclusion
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://genesys-samples.github.io/"><i class='fas fa-graduation-cap'></i> Genesys Workshops</a>
              </li>
          
              <li>
                  <a class="padding" href="https://gdemo.demo.genesys.com/"><i class='fas fa-tools'></i> GDemo Portal</a>
              </li>
          
              <li>
                  <a class="padding" href="https://developer.genesys.com/"><i class='far fa-lightbulb'></i> Genesys Developer Center</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="/020-dialogflowcx/30_third.html" selected>English</option>
                    
                  
              
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>

    <a href="https://www.genesys.com/company/legal/privacy-policy">Privacy</a> | <a
        href="https://www.genesys.com/company/legal/terms-of-use">Site Terms</a> | <a
        href="https://www.genesys.com/company/legal">Legal</a>
        <br> Â© 2022 Genesys. All rights reserved.

</left>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../'>Genesys and Google - Agent Assist and DialogFlow CX Workshop</a> > <a href='../020-dialogflowcx.html'>DialogFlow CX</a> > Building a DialogFlow CX Agent
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#terminology">Terminology</a></li>
    <li><a href="#building-a-dialogflow-cx-agent">Building a DialogFlow CX Agent</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Building a DialogFlow CX Agent
            </h1>
          

        


<h2 id="terminology">Terminology</h2>
<ul>
<li>Agents - Agent is DialogFlow&rsquo;s term for bot. An agent is a natural language understanding module that understands the nuances of human language. You design and build a Dialogflow agent to handle the types of conversations required for your system.</li>
<li>Flows - Used to define topics and the associated conversational paths. Here&rsquo;s an example of different flows that might be built for a pizza delivery agent.
<img src="../images/PizzaDeliveryFlows.jpg" alt="Pizza Delivery Flows"></li>
<li>Pages - Pages are configured to collect information from the end user that is relevant for the conversational state represented by the page. See the below example of different pages in blue that might be used for a Food Order flow.
<img src="../images/foodOrderPages.jpg" alt="Food Order Pages"></li>
<li>Entity Types and Parameters - If you are familiar with other bot engines, you might know the term slots and slot types. Entity types and parameters are essentially the same. Entity types control how data from end users can be inputted. With entity types, many come predefined such as Number Sequence. Entity types that come predefined are called system entities and entity types that you create are called custom entities. For example, you might create a custom entity type for pizza toppings that only accepts a predefined list of topppings. Parameters capture and reference values that have been supplied by the end user. Each parameter is assigned an entity type. For example, the parameter account number might have an entity type of number sequence.</li>
<li>Forms - A form is built for each page and it is a list of parameters that should be collected from the end user for the page.</li>
<li>Intents - An intent categorizes a users intention based on data called training phrases. Training phrases are example phrases of what end users might type or say that would match up to the intent.</li>
<li>Fulfillment - Fulfillment enables the virtual agent to respond to the end users question, query for information, or terminate a session. It is possible to call mutiple fulfillments during one turn.</li>
<li>State Handlers - Used to control the conversation by creating responses for end users and/or by transitioning the current page.</li>
</ul>
<p>Reference page - <a href="https://cloud.google.com/dialogflow/cx/docs/basics">https://cloud.google.com/dialogflow/cx/docs/basics</a></p>
<h2 id="building-a-dialogflow-cx-agent">Building a DialogFlow CX Agent</h2>
<p>Today we&rsquo;re going to build a virtual agent for a candy shop. The candy shop is hoping to use DialogFlow CX to accomplish two items: 1. Allow customers to place orders &amp; 2. Give out store hours. Let&rsquo;s get to work! Try to follow along with either the steps below or watch the video at the bottom of this page.</p>
<ul>
<li>Navigate to the Google CCAI Console &amp; ensure that you are in the project that you created in the previous section.
<ul>
<li><a href="https://dialogflow.cloud.google.com/cx/projects">https://dialogflow.cloud.google.com/cx/projects</a></li>
</ul>
</li>
<li>If you receive this prompt when you navigate to the link, just enable the API.
<img src="../images/EnableAPI.jpg" alt="EnableAPI"></li>
<li>Create a new agent and give it a descriptive name like &ldquo;Candy Shop Bot&rdquo;</li>
<li>The first task we will do is edit the Default Welcome Intent. Click on the start button in the middle of the page and then on Default Welcome Intent. Under fulfillment, let&rsquo;s delete the default phrases and add our own; &ldquo;Thanks for chatting with the candy shop. How can we help you?&rdquo; Be sure to click save.
<img src="../images/candyShopHello.jpg" alt="Candy Shop Hello"></li>
<li>Before we move to the next step, let&rsquo;s go over the Test Agent tool. In the top right, click test agent. If you say hello, you should get back the response we just created!
<img src="../images/testAgent.jpg" alt="Test Agent"></li>
</ul>
<p>Now we are going to create a couple of intents and pages. You can create intents two ways; either from the manage tab or inline. We&rsquo;ll show you both ways. Pages can either be created from the build tab or inline. We will first create an intent using the manage tab and a page using the build tab.</p>
<ul>
<li>Select the manage tab &gt; intents &gt; create</li>
<li>Name this intent store.hours</li>
<li>Enter at least 5 training phrases. Here&rsquo;s two examples.
<ul>
<li>When is your store open?</li>
<li>What are your hours?</li>
<li>Be sure to press save after adding your training phrases</li>
</ul>
</li>
<li>Navigate back to the build tab and then click the + sign to create a new page named &ldquo;Hours&rdquo;</li>
<li>Hover over the newly created Hours page and click the 3 dots and then Edit
<ul>
<li>Edit the fulfillment field and then input some text describing your candy shops store hours. For example, &ldquo;Our shop is open Monday through Saturday from 11am to 9pm.&rdquo;</li>
<li>Be sure to press save on both the fulfillment and the page.</li>
</ul>
</li>
<li>Navigate back to the Default Start Flow and then press the Start block
<ul>
<li>Create a new route and choose store.hours from the intent drop down and under the transition section choose the Hours page.</li>
</ul>
</li>
<li>Now we are going to create an intent and a page using the inline functionality
<ul>
<li>Click the start block under the Default Start Flow and then the + to add a new route</li>
<li>In the intent drop down list click + new Intent, which will allow you to create a new intent directly from here
<img src="../images/inlineNewIntent.jpg" alt="Inline New Intent">
<ul>
<li>Name your new intent &ldquo;Order Candy&rdquo; and add some training phrases of what a customer might say if they want to order candy. Under training phrases, add the following sentences
<ul>
<li>order some gumdrops</li>
<li>place a new order</li>
<li>i want candy</li>
<li>i want 500 suckers</li>
<li>i&rsquo;d like to buy 10 jawbreakers</li>
</ul>
</li>
<li>You should notice that a parameter is automatically created when putting in your training phrases. Google is recognizing based on your inputted training phrases that you are going to need to gather the quantity of candies as a parameter for this intent. We&rsquo;ll get more into adding parameters here in just a little bit.
<img src="../images/parameterAutopopulate.jpg" alt="Parameter Autopopulate"></li>
</ul>
</li>
<li>While still editing the route, navigate down to the transition section and now let&rsquo;s create a new page using inline functionality.
<img src="../images/inlineNewPage.jpg" alt="Inline New Page">
<ul>
<li>name this page &ldquo;New Order&rdquo; and then save your route</li>
</ul>
</li>
</ul>
</li>
<li>Quick check in - at this point, your graphical editor should look like this.
<img src="../images/graphicalEditorCheckIn.jpg" alt="Graphical Editor Check In"></li>
</ul>
<p>Next we need to add parameters to our New Order page. As mentioned in the terminology sections, parameters must be of an entity type. There are both system entities which come preloaded and then you can create custom entities for custom types of data. In our scenario, we will gather the type of candy they want to order (custom entity) and the quantity of that candy that they want to order.</p>
<ul>
<li>First let&rsquo;s create the new custom entity type for the type of candy. Our store sells 5 different types of candies: jawbreakers, gumdrops, suckers, gummy bears, and jelly beans.
<ul>
<li>Navigate to the manage tab &gt; entity types &gt; and then create a new custom entity type named candy_Types. Under the entities section on this page, add our 5 candy types listed above and any corresponding synonyms you can think of. Be sure to press save.
<img src="../images/candyTypeEntity.jpg" alt="Candy Type Entity"></li>
</ul>
</li>
<li>Now that we have our custom entity type, we can add our parameters to our New Order page.
<ul>
<li>Navigate back to Build and then click on the New Order page in the graphical builder.</li>
<li>Click the + to create a new parameter.</li>
<li>Name the parameter &ldquo;Candy&rdquo; and in the entity type drop down find the custom entity type we just created. Lastly, in the Initial prompt fulfillment section, type &ldquo;What type of candy do you want to order?&rdquo; After that, press save.
<img src="../images/candyParameter.jpg" alt="Candy Parameter"></li>
<li>Click the + again to create another parameter. This time, we&rsquo;ll gather the amount they want to order.
<ul>
<li>For display name, type Quantity and for entity type choose @sys.number.</li>
<li>For the Initial prompt fulfillment, type &ldquo;How many $session.params.Candy would you like?&rdquo;</li>
<li>The $session.params.Candy variable will plug in the previously entered Candy type that they gave us, for example &ldquo;How many suckers would you like?&rdquo;
Lastly, we will create an order confirmation page and transition to that page using a condition that checks if all the New Order parameters are filled in.</li>
</ul>
</li>
</ul>
</li>
<li>First create a new page and name it Order Confirmation.</li>
<li>Click on the page and add entry fulfillment that says &ldquo;We&rsquo;ll have your order for $session.params.Quantity $session.params.Candy ready in two business days!&rdquo;</li>
<li>Navigate back to the Default Start Flow graphical interface and click on the New Order page.
<ul>
<li>Click the + to add a new route.</li>
<li>Add a condition to check if $page.params.status = FINAL and then transition to the Order Confirmation page if this evaluates to true. Be sure to save the route.
<img src="../images/pageParamsFinal.jpg" alt="Page Params Final">
There you go! Your graphical interface should now look like this.
<img src="../images/graphicalInterfaceFinal.jpg" alt="Graphical Interface Final">
We also can use the test agent tool. Go through this conversation with the bot.
<img src="../images/finalTestAgent.jpg" alt="Final Test Agent"></li>
</ul>
</li>
</ul>
<p>If your conversation worked, congrats! You&rsquo;ve just created a candy shop bot.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../020-dialogflowcx/20_second.html" title="Integration Setup"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../020-dialogflowcx/40_fourth.html" title="Invoking the DialogFlow CX Agent in an Architect Flow" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../js/clipboard.min.js?1654548968"></script>
    <script src="../js/perfect-scrollbar.min.js?1654548968"></script>
    <script src="../js/perfect-scrollbar.jquery.min.js?1654548968"></script>
    <script src="../js/jquery.sticky.js?1654548968"></script>
    <script src="../js/featherlight.min.js?1654548968"></script>
    <script src="../js/highlight.pack.js?1654548968"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../js/modernizr.custom-3.6.0.js?1654548968"></script>
    <script src="../js/learn.js?1654548968"></script>
    <script src="../js/hugo-learn.js?1654548968"></script>
    
        
            <script src="../mermaid/mermaid.js?1654548968"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

